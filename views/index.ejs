<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="utils.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="48x48">

    <title>Writers Forest</title>
</head>
<body>

    
    <nav id="logo">
     
    <h1>Writers Forest</h1>

    <div id="check" class="menu-icon">
    <i class="fa fa-bars" style="font-size: 22px;"></i>
    </div>

   <div class="on_screen">
        <ul>
            <li><a class="active" href="/">Home</a></li>
            <li><a href="/explore">Explore</a></li>
            <li><a href="/your-work">Your Work</a></li>
            <li><a href="/profile">Profile</a></li>
        </ul>
    </div>
    </nav>
    <div class="off_screen">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/explore">Explore</a></li>
            <li><a href="/your-work">Your Work</a></li>
            <li><a href="/profile">Profile</a></li>
        </ul>
    </div>




<div class="main_content">
    <div class="post">
        <% if (hasPosts && post) { %>
            <h2><%= post.title %></h2>
            <div class="post-content">
                <pre><%= post.post %></pre>
                <div class="writer-signature">
                    <span>&mdash; <%= post.writer %></span>
                </div>
            </div>
        <% } else { %>
            <p>No posts yet.</p>
        <% } %>
    </div>

    <div class="but">
        <% if (hasPosts) { %>
            <% let prevIndex = currentIndex - 1 < 0 ? 0 : currentIndex - 1; %>
            <a href="/?index=<%= prevIndex %>">
                <button class="prev">Previous</button>
            </a>
            <a href="/?index=<%= currentIndex + 1 %>">
                <button class="next">Next</button>
            </a>
        <% } %>
    </div>
</div>

<br>
<br>
<br>

<!-- filepath: c:\Users\anshu\OneDrive\Desktop\Writers Forest\Writers-Forest\views\index.ejs -->
<div class="comments bg-dark rounded shadow padding width-60 margin-auto">
    <h2 class="text-center">Comments</h2>
    <% if (post) { %>
        <form action="/comments" method="post">
            <input type="hidden" name="postId" value="<%= post.id %>">
            <input type="hidden" name="index" value="<%= currentIndex %>">
            <input name="comment" type="text" placeholder="Write your comment..." required>
            <button type="submit">Submit</button>
        </form>
        <ul>
            <% if (comments && comments.length > 0) { %>
                <% comments.forEach(comment => { %>
                    <li><%= comment %></li>
                <% }) %>
            <% } else { %>
                <li>No comments yet. Be the first to comment!</li>
            <% } %>
        </ul>
    <% } else { %>
        <p>No post selected to comment on.</p>
    <% } %>
</div>

<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-links">
            <a href="/about">About</a>
            <a href="/terms">Terms</a>
            <a href="/privacy">Privacy</a>
        </div>
        <div class="footer-copyright">
            Â© 2025 Writers Forest. All rights reserved.
        </div>
    </div>
</footer>

<script src="/js/main.js"></script>
</body>
</html>

